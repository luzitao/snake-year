<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥¥ç‘è›‡å¹´ Â· æ–°æ˜¥è´ºå–œ</title>
    <style>
        :root {
            --gold-1: #FFF9D2;
            --gold-2: #FFE55C;
            --red-1: #A50000;
            --red-2: #FF3366;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: manipulation;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--red-1) 0%, var(--red-2) 100%);
            font-family: 'Microsoft YaHei', system-ui;
            overflow: hidden;
        }

        /* æ€§èƒ½ä¼˜åŒ–å±‚ */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 0;
            transform: translateZ(0);
            will-change: transform;
        }

        /* ä¸»å†…å®¹å®¹å™¨ */
        .content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            padding: 1rem;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        /* åŠ¨æ€æ ‡é¢˜ */
        .snake-title {
            font-size: clamp(2rem, 8vw, 4rem);
            text-align: center;
            margin: 1rem 0;
            color: var(--gold-2);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* ç¥ç¦è¯­å¡ç‰‡ */
        .blessings {
            display: grid;
            gap: 1rem;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 12px;
        }

        .blessings p {
            font-size: clamp(1rem, 4vw, 1.2rem);
            line-height: 1.6;
            padding: 0.8rem;
            background: linear-gradient(45deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 100%);
            border-radius: 8px;
            transition: transform 0.3s ease;
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            .content {
                backdrop-filter: none;
                -webkit-backdrop-filter: none;
            }
            
            .blessings p:hover {
                transform: none !important;
            }
        }

        /* æ€§èƒ½æ¨¡å¼ */
        .perf-mode {
            animation: none !important;
            filter: none !important;
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    
    <main class="content">
        <h1 class="snake-title">ğŸ ç¥¥ç‘è¿æ˜¥ ğŸ‰</h1>
        
        <div class="blessings">
            <p>ğŸ‰ é‡‘è›‡èµ·èˆè¾æ—§å²ï¼Œç‘æ°”ç›ˆé—¨è¿æ–°æ˜¥</p>
            <p>ğŸ“ˆ äº‹ä¸šå¦‚è›‡è…¾å››æµ·ï¼Œæ­¥æ­¥é«˜å‡å±•å®å›¾</p>
            <p>ğŸ’° è´¢æºä¼¼æ°´è¿ç»µè‡³ï¼Œé‡‘ç‰æ»¡å ‚ç¦æ»¡é—¨</p>
            <p>ğŸ å®‰åº·å¦‚æ„å¸¸ç›¸ä¼´ï¼Œå²å²å¹³å®‰ä¸‡äº‹å…´</p>
        </div>
    </main>

    <script>
        // æ€§èƒ½æ£€æµ‹
        const isLowPerf = navigator.hardwareConcurrency < 4 || 
                        navigator.deviceMemory < 4 ||
                        /Android|webOS|iPhone|iPad/i.test(navigator.userAgent);

        // çƒŸèŠ±ç²’å­ç³»ç»Ÿï¼ˆä¼˜åŒ–ç‰ˆï¼‰
        class Firework {
            constructor() {
                this.canvas = document.createElement('canvas');
                this.ctx = this.canvas.getContext('2d');
                this.particles = [];
                this.lastFrame = 0;
                this.init();
            }

            init() {
                this.canvas.style.position = 'fixed';
                this.canvas.style.top = '0';
                this.canvas.style.left = '0';
                this.canvas.style.zIndex = '0';
                document.getElementById('canvas-container').appendChild(this.canvas);
                this.resize();
                
                const handler = isLowPerf ? 'touchstart' : 'click';
                this.canvas.addEventListener(handler, (e) => this.spark(e));
                window.addEventListener('resize', () => this.resize());
                
                this.animate();
            }

            resize() {
                this.canvas.width = window.innerWidth * (isLowPerf ? 0.8 : 1);
                this.canvas.height = window.innerHeight * (isLowPerf ? 0.8 : 1);
            }

            spark(e) {
                if(this.particles.length > (isLowPerf ? 100 : 200)) return;

                const count = isLowPerf ? 40 : 80;
                const colors = ['#FFD700', '#FF6B6B', '#4ECDC4'];
                
                for(let i = 0; i < count; i++) {
                    this.particles.push({
                        x: e.clientX || e.touches[0].clientX,
                        y: e.clientY || e.touches[0].clientY,
                        color: colors[i%3],
                        radius: Math.random() * 2 + 1,
                        vx: Math.cos((Math.PI*2*i)/count) * (Math.random()*5 + 2),
                        vy: Math.sin((Math.PI*2*i)/count) * (Math.random()*5 + 2),
                        life: 1.2
                    });
                }
            }

            animate(timestamp) {
                if(timestamp - this.lastFrame > (1000/30)) { // é”å®š30FPS
                    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                    
                    this.particles.forEach((p, i) => {
                        p.x += p.vx;
                        p.y += p.vy;
                        p.vy += 0.15;
                        p.life -= 0.02;

                        this.ctx.beginPath();
                        this.ctx.arc(p.x, p.y, p.radius * p.life, 0, Math.PI*2);
                        this.ctx.fillStyle = p.color;
                        this.ctx.fill();

                        if(p.life <= 0) this.particles.splice(i, 1);
                    });
                    
                    this.lastFrame = timestamp;
                }
                requestAnimationFrame((t) => this.animate(t));
            }
        }

        // è‡ªåŠ¨æ€§èƒ½ä¼˜åŒ–
        if(isLowPerf) {
            document.body.classList.add('perf-mode');
            new Firework(); // åªåˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹
        } else {
            new Firework();
            createSnowflakes();
        }

        // é›ªèŠ±æ•ˆæœï¼ˆä»…åœ¨éä½åŠŸè€—æ¨¡å¼å¯ç”¨ï¼‰
        function createSnowflakes() {
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fall {
                    to { transform: translateY(110vh) rotate(360deg); }
                }
                .snow {
                    position: fixed;
                    top: -10px;
                    width: 6px;
                    height: 6px;
                    background: rgba(255,255,255,0.8);
                    border-radius: 50%;
                    pointer-events: none;
                    animation: fall linear forwards;
                }
            `;
            document.head.appendChild(style);

            setInterval(() => {
                const snow = document.createElement('div');
                snow.className = 'snow';
                snow.style.cssText = `
                    left: ${Math.random() * 100}%;
                    animation-duration: ${Math.random() * 4 + 6}s;
                    opacity: ${Math.random() * 0.6 + 0.4};
                `;
                snow.onanimationend = () => snow.remove();
                document.body.appendChild(snow);
            }, 300);
        }
    </script>
</body>
</html>